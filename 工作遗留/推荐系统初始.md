---
title: 推荐系统相关
toc: true
date: 2023-05-16 20:09:05
tags:
- 业务
categories:
- 推荐
---

![img](https://pic2.zhimg.com/80/v2-5bc825cf962e4c135f348db4b985b09d_720w.jpg)

<!-- more -->

###### 调权

刷新行为的调权

作者等级调权

冷启用户

弹幕

关注关系

低/高内容质量

类目

deeplink

设备

用商资源

###### 多样性

软打散

- 候选视频"在"cate"的"距离（index）
- "候选视频"在tag的”距离“
- "候选视频"与“候选集”相同的视频
- "候选视频"与“候选集”cate相同的视频
- "候选视频"与“候选集”tag相同的视频

硬打散

- 判断是否满足最小相隔距离限制: "本视频"和"相似视频"的距离 >= max_nearest_cnt, 则返回true
- 判断是否满足最大"连续视频个数"限制: "连续视频个数" <= max_nearest_cnt, 则返回true
- .最近max_nearest_cnt条视频中，"相似视频"最大总数限制，最外面的vector: index=0、1、2、3对应的是CATE, SUB_CATE, TAG, SEMANTIC，最内层的vector: 前面index条视频中，相同视频的数量

###### 过滤

- 原创冷启队列过滤暧昧视频，新作者冷启队列过滤暧昧资源
- 互联网人群过滤冷启通道
- 类目过滤，获取需要过滤的二级类目词典
- 作者等级过滤，作者质量分限流,分段限流，用户关注作者内容豁免
- 对于低活且非新用户豁免335路召回的资源，小流量实验
- 地理位置的过滤
- 搜索相关的过滤
- 相关推荐和连播的过滤

###### 优化

arena对于分配和释放都是针对内存一次性的，减少了申请和释放对象

![grc](https://raw.githubusercontent.com/yefengdanqing/picture_bed/master/grc.jpg)
